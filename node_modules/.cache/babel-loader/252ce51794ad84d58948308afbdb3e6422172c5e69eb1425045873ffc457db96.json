{"ast":null,"code":"var _jsxFileName = \"/Users/ruiafonso/Desktop/CF Front end/TASK 4/meet/src/App.js\";\nimport React, { Component } from 'react';\nimport './nprogress.css';\nimport './App.css';\nimport EventList from './EventList';\nimport CitySearch from './CitySearch';\nimport NumberOfEvents from './NumberOfEvents';\nimport { getEvents, extractLocations } from './api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      events: [],\n      locations: [],\n      seletedLocation: 'all',\n      eventCount: 32\n    };\n    this.updateEvents = (location, inputNumber) => {\n      const {\n        eventCount,\n        seletedLocation\n      } = this.state;\n      if (location) {\n        getEvents().then(events => {\n          const locationEvents = location === 'all' ? events : events.filter(event => event.location === location);\n          const eventsToShow = locationEvents.slice(0, eventCount);\n          this.setState({\n            events: eventsToShow,\n            seletedLocation: location\n          });\n        });\n      } else {\n        getEvents().then(events => {\n          const locationEvents = seletedLocation === 'all' ? events : events.filter(event => event.location === seletedLocation);\n          const eventsToShow = locationEvents.slice(0, inputNumber);\n          this.setState({\n            events: eventsToShow,\n            eventCount: inputNumber\n          });\n        });\n      }\n    };\n    this.getData = () => {\n      const {\n        locations,\n        events\n      } = this.state;\n      const data = locations.map(location => {\n        const number = events.filter(event => event.location === location).length;\n        const city = location.split(', ').shift();\n        return {\n          city,\n          number\n        };\n      });\n      return data;\n    };\n  }\n  componentDidMount() {\n    this.mounted = true;\n    getEvents().then(events => {\n      if (this.mounted) {\n        events = events.slice(0, this.state.eventCount);\n        this.setState({\n          events,\n          locations: extractLocations(events)\n        });\n      }\n    });\n  }\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Meet App\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CitySearch, {\n        locations: this.state.locations,\n        updateEvents: this.updateEvents\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NumberOfEvents, {\n        eventCount: this.state.eventCount,\n        updateEvents: this.updateEvents\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EventList, {\n        events: this.state.events\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","EventList","CitySearch","NumberOfEvents","getEvents","extractLocations","App","state","events","locations","seletedLocation","eventCount","updateEvents","location","inputNumber","then","locationEvents","filter","event","eventsToShow","slice","setState","getData","data","map","number","length","city","split","shift","componentDidMount","mounted","componentWillUnmount","render"],"sources":["/Users/ruiafonso/Desktop/CF Front end/TASK 4/meet/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './nprogress.css';\nimport './App.css';\nimport EventList from './EventList';\nimport CitySearch from './CitySearch';\nimport NumberOfEvents from './NumberOfEvents';\nimport { getEvents, extractLocations } from './api';\n\nclass App extends Component {\n  state = {\n    events: [],\n    locations: [],\n    seletedLocation: 'all',\n    eventCount: 32\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    getEvents().then((events) => {\n      if (this.mounted) {\n        events = events.slice(0, this.state.eventCount);\n        this.setState({ events, locations: extractLocations(events) });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  updateEvents = (location, inputNumber) => {\n    const { eventCount, seletedLocation } = this.state;\n    if (location) {\n      getEvents().then((events) => {\n        const locationEvents =\n          location === 'all'\n            ? events\n            : events.filter((event) => event.location === location);\n        const eventsToShow = locationEvents.slice(0, eventCount);\n        this.setState({\n          events: eventsToShow,\n          seletedLocation: location\n        });\n      });\n    } else {\n      getEvents().then((events) => {\n        const locationEvents =\n          seletedLocation === 'all'\n            ? events\n            : events.filter((event) => event.location === seletedLocation);\n        const eventsToShow = locationEvents.slice(0, inputNumber);\n        this.setState({\n          events: eventsToShow,\n          eventCount: inputNumber\n        });\n      });\n    }\n  };\n\n  getData = () => {\n    const { locations, events } = this.state;\n    const data = locations.map((location) => {\n      const number = events.filter(\n        (event) => event.location === location\n      ).length;\n      const city = location.split(', ').shift();\n      return { city, number };\n    });\n    return data;\n  };\n\n  render() {\n    return (\n      <div className='App'>\n        <h1>Meet App</h1>\n        <CitySearch\n          locations={this.state.locations}\n          updateEvents={this.updateEvents}\n        />\n        <NumberOfEvents\n          eventCount={this.state.eventCount}\n          updateEvents={this.updateEvents}\n        />\n        <EventList events={this.state.events} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}