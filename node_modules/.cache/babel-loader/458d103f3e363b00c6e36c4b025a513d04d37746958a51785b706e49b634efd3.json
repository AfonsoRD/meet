{"ast":null,"code":"import _classCallCheck from\"/Users/ruiafonso/Desktop/CF Front end/TASK 4/meet/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/ruiafonso/Desktop/CF Front end/TASK 4/meet/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/ruiafonso/Desktop/CF Front end/TASK 4/meet/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/ruiafonso/Desktop/CF Front end/TASK 4/meet/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import'./nprogress.css';import'./App.css';import EventList from'./EventList';import CitySearch from'./CitySearch';import NumberOfEvents from'./NumberOfEvents';import{getEvents,extractLocations}from'./api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={events:[],locations:[],seletedLocation:'all',eventCount:32};_this.updateEvents=function(location,inputNumber){var _this$state=_this.state,eventCount=_this$state.eventCount,seletedLocation=_this$state.seletedLocation;if(location){getEvents().then(function(events){var locationEvents=location==='all'?events:events.filter(function(event){return event.location===location;});var eventsToShow=locationEvents.slice(0,eventCount);_this.setState({events:eventsToShow,seletedLocation:location});});}else{getEvents().then(function(events){var locationEvents=seletedLocation==='all'?events:events.filter(function(event){return event.location===seletedLocation;});var eventsToShow=locationEvents.slice(0,inputNumber);_this.setState({events:eventsToShow,eventCount:inputNumber});});}};_this.getData=function(){var _this$state2=_this.state,locations=_this$state2.locations,events=_this$state2.events;var data=locations.map(function(location){var number=events.filter(function(event){return event.location===location;}).length;var city=location.split(', ').shift();return{city:city,number:number};});return data;};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.mounted=true;getEvents().then(function(events){if(_this2.mounted){var _events=_events.slice(0,_this2.state.eventCount);_this2.setState({events:_events,locations:extractLocations(_events)});}});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.mounted=false;}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Meet App\"}),/*#__PURE__*/_jsx(CitySearch,{locations:this.state.locations,updateEvents:this.updateEvents}),/*#__PURE__*/_jsx(NumberOfEvents,{eventCount:this.state.eventCount,updateEvents:this.updateEvents}),/*#__PURE__*/_jsx(EventList,{events:this.state.events})]});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["React","Component","EventList","CitySearch","NumberOfEvents","getEvents","extractLocations","App","state","events","locations","seletedLocation","eventCount","updateEvents","location","inputNumber","then","locationEvents","filter","event","eventsToShow","slice","setState","getData","data","map","number","length","city","split","shift","mounted"],"sources":["/Users/ruiafonso/Desktop/CF Front end/TASK 4/meet/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './nprogress.css';\nimport './App.css';\nimport EventList from './EventList';\nimport CitySearch from './CitySearch';\nimport NumberOfEvents from './NumberOfEvents';\nimport { getEvents, extractLocations } from './api';\n\nclass App extends Component {\n  state = {\n    events: [],\n    locations: [],\n    seletedLocation: 'all',\n    eventCount: 32\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    getEvents().then((events) => {\n      if (this.mounted) {\n        const events = events.slice(0, this.state.eventCount);\n        this.setState({ events, locations: extractLocations(events) });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  updateEvents = (location, inputNumber) => {\n    const { eventCount, seletedLocation } = this.state;\n    if (location) {\n      getEvents().then((events) => {\n        const locationEvents =\n          location === 'all'\n            ? events\n            : events.filter((event) => event.location === location);\n        const eventsToShow = locationEvents.slice(0, eventCount);\n        this.setState({\n          events: eventsToShow,\n          seletedLocation: location\n        });\n      });\n    } else {\n      getEvents().then((events) => {\n        const locationEvents =\n          seletedLocation === 'all'\n            ? events\n            : events.filter((event) => event.location === seletedLocation);\n        const eventsToShow = locationEvents.slice(0, inputNumber);\n        this.setState({\n          events: eventsToShow,\n          eventCount: inputNumber\n        });\n      });\n    }\n  };\n\n  getData = () => {\n    const { locations, events } = this.state;\n    const data = locations.map((location) => {\n      const number = events.filter(\n        (event) => event.location === location\n      ).length;\n      const city = location.split(', ').shift();\n      return { city, number };\n    });\n    return data;\n  };\n\n  render() {\n    return (\n      <div className='App'>\n        <h1>Meet App</h1>\n        <CitySearch\n          locations={this.state.locations}\n          updateEvents={this.updateEvents}\n        />\n        <NumberOfEvents\n          eventCount={this.state.eventCount}\n          updateEvents={this.updateEvents}\n        />\n        <EventList events={this.state.events} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}